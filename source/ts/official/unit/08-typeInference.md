---
title: 类型推论
date: 2021-01-29 11:28:24
tag: ts
toc: true
---

### 基础
TypeScript里，在有些没有明确指出类型的地方，类型推论会帮助提供类型
*如下面的例子*
```ts
let x = 3;
```
变量x的类型被推断为数字。 **这种推断发生在初始化变量和成员，设置默认参数值和决定函数返回值时。**大多数情况下，类型推论是直截了当地。 后面的小节，我们会浏览类型推论时的细微差别

### 最佳通用类型
当需要从几个表达式中推断类型时候，会使用这些表达式的类型来推断出一个最合适的通用类型。
```ts
let x1 = [0, 1, null];
```
为了推断x的类型，我们必须考虑所有元素的类型。 这里有两种选择： number和null。 计算通用类型算法会考虑所有的候选类型，并给出一个兼容所有候选类型的类型。
由于最终的通用类型取自候选类型，有些时候候选类型共享相同的通用类型，但是却没有一个类型能做为所有候选类型的类型。




