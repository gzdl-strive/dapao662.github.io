---
title: Nginx简介
date: 2021-07-31 18:25:24
toc: true
---

## 背景介绍
>`Nginx（“engine x”）`一个具有高性能的`【HTTP】`和`【反向代理】`的`【WEB服务器】`，同时也是一个`【POP3/SMTP/IMAP代理服务器】`，是由伊戈尔·赛索耶夫(俄罗斯人)使用C语言编写的，Nginx的第一个版本是2004年10月4号发布的0.1.0版本。另外值得一提的是伊戈尔·赛索耶夫将Nginx的源码进行了开源，这也为Nginx的发展提供了良好的保障。

### 1.WEB服务器
WEB服务器也叫网页服务器，英文名叫`Web Server`，主要功能是为用户提供网上信息浏览服务。

### 2.HTTP
HTTP是超文本传输协议的缩写，是用于从WEB服务器传输超文本到本地浏览器的传输协议，也是互联网上应用最为广泛的一种网络协议。HTTP 是一个客户端和服务器端请求和应答的标准，客户端是终端用户，服务端是网站，通过使用Web浏览器、网络爬虫或者其他工具，客户端发起一个到服务器上指定端口的HTTP请求。

### 3.POP3/SMTP/IMAP
- POP3(Post Offic Protocol 3)邮局协议的第三个版本
- SMTP(Simple Mail Transfer Protocol)简单邮件传输协议
- IMAP(Internet Mail Access Protocol)交互式邮件存取协议
通过上述名词的解释，我们可以了解到Nginx也可以作为电子邮件代理服务器。

### 4.正向代理&&反向代理
**正向代理**
![正向](/assets/nginxImg/normal.jpg "正向代理")
**反向代理**
![反向](/assets/nginxImg/reverse.jpg "反向代理")

## Nginx的优点
### 1. 速度更快、并发更高
单次请求或者高并发请求的环境下，Nginx都会比其他Web服务器响应的速度更快。一方面在正常情况下，单次请求会得到更快的响应，另一方面，在高峰期(如有数以万计的并发请求)，Nginx比其他Web服务器更快的响应请求。Nginx之所以有这么高的并发处理能力和这么好的性能原因在于Nginx采用了**多进程和I/O多路复用(epoll)**的底层实现。

### 2. 配置简单，扩展性强
Nginx的设计极具扩展性，它本身就是由很多模块组成，这些模块的使用可以通过配置文件的配置来添加。这些模块有官方提供的也有第三方提供的模块，如果需要完全可以开发服务自己业务特性的定制模块。

### 3. 高可靠性
Nginx采用的是多进程模式运行，其中有一个master主进程和N多个 worker进程，worker进程的数量我们可以手动设置，每个worker进程之间都是相互独立提供服务，并且master主进程可以在某一个worker进程出错时，快速去"拉起"新的worker进程提供服务.

### 4. 热部署
现在互联网项目都要求以7*24小时进行服务的提供，针对于这一要求， Nginx也提供了热部署功能，即可以在Nginx不停止的情况下，对Nginx 进行文件升级、更新配置和更换日志文件等功能。

### 5.成本低、BSD许可证
BSD是一个开源的许可证，世界上的开源许可证有很多，现在比较流行的有六种分别是GPL、BSD、MIT、Mozilla、Apache、LGPL。这六种的区别是什么，我们可以通过下面一张图来解释下：
![bsd](/assets/nginxImg/bsd.jpg "bsd")

## Nginx的功能特性以及常用功能
Nginx提供的基本功能服务从大体上归纳为"基本HTTP服务"、“高级HTTP服务”和"邮件服务"等三大类。

### 基本HTTP服务
Nginx可以提供基本HTTP服务，可以作为**HTTP代理服务器**和**反向代理服务器**，**支持通过缓存加速访问**，可以完成简单的**负载均衡和容错**，支持**包过滤功能**，**支持SSL**等。
- 处理静态文件、处理索引文件以及支持自动索引
- 提供反向代理服务器，并可以使用缓存加上反向代理，同时完成负载均衡和容错
- 使用Nginx的模块化特性提供过滤器功能。Nginx基本过滤器包括 gzip压缩、ranges支持、chunked响应、XSLT、SSI以及图像缩放等。其中针对包含多个SSI的页面，经由FastCGI或反向代理，SSI过滤器可以并行处理。
- 支持HTTP下的安全套接层安全协议SSL.
- 支持基于加权和依赖的优先权的HTTP/2

### 高级HTTP服务
- 支持基于名字和IP的虚拟主机设置
- 支持HTTP/1.0中的KEEP-Alive模式和管线(PipeLined)模型连接
- 自定义访问日志格式、带缓存的日志写操作以及快速日志轮转。
- 提供3xx~5xx错误代码重定向功能
- 支持重写(Rewrite)模块扩展
- 支持重新加载配置以及在线升级时无需中断正在处理的请求支持网络监控

### 邮件服务
Nginx提供邮件代理服务也是其基本开发需求之一，主要包含以下特性：
支持IMPA/POP3代理服务功能支持内部SMTP代理服务功能

## Nginx常用的功能模块
>1. 静态资源部署
>2. Rewrite地址重写
>3. 反向代理
>4. 负载均衡
>5. web缓存
>6. 环境部署
>7. 用户认证模块..

## Nginx的核心组成
>1. nginx二进制可执行文件
>2. nginx.conf配置文件
>3. error.log错误的日志记录
>4. access.log访问日志记录